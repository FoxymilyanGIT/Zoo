# üöÄ –ó–∞–ø—É—Å–∫ —Å ngrok (–¥–ª—è —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª–µ–π)

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **PostgreSQL** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
2. **ngrok** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. **Java 17+** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### ‚≠ê –í–∞—Ä–∏–∞–Ω—Ç 1: ngrok.yml –∫–æ–Ω—Ñ–∏–≥ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏)
```bash
# –°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª:
run-with-ngrok-config.bat
```
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç—É–Ω–Ω–µ–ª–∏, –ø—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä
```bash
# –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ –º–µ–Ω—é:
run-with-ngrok-interactive.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Backend Public + Frontend Local
```bash
# Backend –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, frontend –ª–æ–∫–∞–ª—å–Ω—ã–π:
run-backend-public-frontend-local.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—É–±–ª–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
# –ò backend –ò frontend –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:
run-fully-public.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç (–æ–±–µ —Å–ª—É–∂–±—ã –ø—É–±–ª–∏—á–Ω—ã–µ)
```bash
# –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ run-with-ngrok.bat
# –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:
run-with-ngrok.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

#### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
```bash
cd backend
java -jar target/zoopark-backend-0.0.1-SNAPSHOT.jar
```

#### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
```bash
ngrok http 8080
```

#### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL
```
Forwarding    https://abc123.ngrok.io -> http://localhost:8080
```

## üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

### –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞:

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ ngrok URL** –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ ngrok:
   ```
   Forwarding    https://abc123.ngrok.io -> http://localhost:8080
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ frontend –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å backend:**
   ```bash
   # –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   cd frontend
   echo "VITE_API_BASE_URL=https://abc123.ngrok.io" > .env.local
   ```

3. **–ò–õ–ò –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   ```bash
   # –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ frontend –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   set VITE_API_BASE_URL=https://abc123.ngrok.io
   # –ò –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ npm run dev
   ```

### –î–æ—Å—Ç—É–ø:
- **Frontend (—Å–∞–π—Ç):** `http://localhost:5173`
- **Backend API:** `https://abc123.ngrok.io/api/health`
- **ngrok Dashboard:** `http://localhost:4040`

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ngrok

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
#### Windows (—á–µ—Ä–µ–∑ Chocolatey):
```bash
choco install ngrok
```

#### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:
1. –°–∫–∞—á–∞–π—Ç–µ —Å [ngrok.com/download](https://ngrok.com/download)
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ –ø–∞–ø–∫—É –∏–∑ PATH

### 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```bash
# –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω: https://dashboard.ngrok.com/auth
ngrok config add-authtoken YOUR_TOKEN
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ ‚≠ê
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç:
mkdir %USERPROFILE%\.ngrok2

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞—à –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª:
copy ngrok.yml %USERPROFILE%\.ngrok2\ngrok.yml

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –≤–º–µ—Å—Ç–æ YOUR_NGROK_AUTH_TOKEN_HERE
notepad %USERPROFILE%\.ngrok2\ngrok.yml
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à —Ç–æ–∫–µ–Ω:
ngrok config check

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫:
ngrok http 8080
```

## üìù –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –æ–±—ã—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ ngrok:
```bash
# Backend
cd backend
mvn spring-boot:run

# Frontend (–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd frontend
npm run dev
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **ngrok URL –º–µ–Ω—è–µ—Ç—Å—è** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω** –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É
- **–î–ª—è production** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway –∏–ª–∏ Heroku

## üîß Troubleshooting

### ERR_NGROK_334: Endpoint already online
```
ERROR: failed to start tunnel: The endpoint is already online
```
**–†–µ—à–µ–Ω–∏–µ:**
1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—É–ø–µ—Ä-–æ—á–∏—Å—Ç–∫—É:** `stop-ngrok.bat` (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
2. **–ò–õ–ò –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–±–æ-—Å–∫—Ä–∏–ø—Ç:** `cleanup-and-run.bat` (–æ—á–∏—Å—Ç–∫–∞ + –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫)
3. **–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:** –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
4. **–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:** –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `stop-ngrok.bat` –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º–∏ –∑–∞–ø—É—Å–∫–∞–º–∏

### –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –î–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á** (Ctrl+Shift+Esc)
2. **–ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:** ngrok.exe, java.exe, node.exe
3. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç–µ** –∏—Ö –≤—Å–µ
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** `stop-ngrok.bat` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏
5. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway –≤–º–µ—Å—Ç–æ ngrok –¥–ª—è production

### Vite blocks ngrok hosts
```
Blocked request. This host ("xyz.ngrok.io") is not allowed.
```
**–†–µ—à–µ–Ω–∏–µ:** Vite –±–ª–æ–∫–∏—Ä—É–µ—Ç ngrok —Ö–æ—Å—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ `vite.config.js`.

### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç):
```bash
# –í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
stop-ngrok.bat

# –ü–æ–¥–æ–∂–¥–∏—Ç–µ 10 —Å–µ–∫—É–Ω–¥...

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å–∫ –ø–æ —á–∞—Å—Ç—è–º:
cd backend
java -jar target/zoopark-backend-0.0.1-SNAPSHOT.jar

# –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–æ–∫–∞ backend –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è...

# –ù–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –¥–ª—è ngrok:
ngrok http 8080

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ frontend...
```

### ERR_NGROK_313: Custom subdomains require paid plan
```
ERROR: Only paid plans may create endpoints with custom subdomains
```
**–†–µ—à–µ–Ω–∏–µ:**
- –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–ª—É—á–∞–π–Ω—ã–µ URL
- –ö–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)
- –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö URL –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω ngrok

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL
Get-Service postgresql*

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 8080
netstat -ano | findstr :8080
```

### ngrok –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
ngrok version

# –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
ngrok config add-authtoken YOUR_TOKEN
```
